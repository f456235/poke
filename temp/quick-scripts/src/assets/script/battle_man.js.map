{"version":3,"sources":["assets\\script\\battle_man.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Man from \"./man\";\r\nimport GlobalData from \"./GlobalData\";\r\ndeclare const firebase: any;\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    label: cc.Label = null;\r\n\r\n    @property\r\n    text: string = 'hello';\r\n\r\n    @property({type:cc.AudioClip})\r\n    battleBgm: cc.AudioClip = null;\r\n\r\n    @property({type:cc.AudioClip})\r\n    winSound: cc.AudioClip = null;\r\n\r\n    @property({type:cc.AudioClip})\r\n    loseSound: cc.AudioClip = null;\r\n\r\n    @property({type:cc.AudioClip})\r\n    red_dong_punch: cc.AudioClip = null;\r\n\r\n    @property({type:cc.Node})\r\n    mainCamera: cc.Node = null;\r\n\r\n    @property({type:cc.SpriteFrame})\r\n    enemy1: cc.SpriteFrame = null;\r\n\r\n    @property({type:cc.SpriteFrame})\r\n    enemy2: cc.SpriteFrame = null;\r\n\r\n    @property({type:cc.SpriteFrame})\r\n    enemy3: cc.SpriteFrame = null;\r\n\r\n    @property({type:cc.SpriteFrame})\r\n    enemy7: cc.SpriteFrame = null;\r\n\r\n    @property({type:cc.SpriteFrame})\r\n    enemy8: cc.SpriteFrame = null;\r\n\r\n    @property(cc.ProgressBar)\r\n    myHP: cc.ProgressBar = null;\r\n\r\n    @property(cc.ProgressBar)\r\n    enemyHP: cc.ProgressBar = null;\r\n\r\n    @property(Man)\r\n    man: Man = null;\r\n\r\n    @property([cc.SpriteFrame])\r\n    sprite: cc.SpriteFrame[] = [];\r\n\r\n    @property(cc.Label)\r\n    myLVlabel: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    enemyLVlabel: cc.Label = null;\r\n\r\n    bag: number[] = GlobalData.pokewoman;\r\n\r\n    mylife: number =GlobalData.mylife;\r\n\r\n    private myLife: number = 100;\r\n    private enemyLife: number = 100;\r\n    private isWin: boolean = false;\r\n    private myTurn: boolean = true;\r\n    private enemyTurn: boolean = false;\r\n    private isLose: boolean = false;\r\n    private enemynum = 0;\r\n    private enemyAttack : number;\r\n    private enemyLV : number ;  \r\n    private renew: boolean = true;\r\n    private last_myself: number = -1;\r\n    public skill1Button: cc.Button = null;\r\n    public skill2Button: cc.Button = null;\r\n    public skill3Button: cc.Button = null;\r\n    public skill4Button: cc.Button = null;\r\n    private moyanAnimation: boolean = true;\r\n\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        //cc.find(\"Canvas/enemy/fire\").getComponent(cc.ParticleSystem).resetSystem();\r\n        \r\n        cc.find('Canvas/skills/bag2').on('click', () => {\r\n            cc.find('Canvas/skills').active = false;\r\n            cc.find('Canvas/bags2').active = true;\r\n        });\r\n        this.skill1Button = cc.find(\"Canvas/skills/skill1\").getComponent(cc.Button);\r\n        this.skill2Button = cc.find(\"Canvas/skills/skill2\").getComponent(cc.Button);\r\n        this.skill3Button = cc.find(\"Canvas/skills/skill3\").getComponent(cc.Button);\r\n        this.skill4Button = cc.find(\"Canvas/skills/skill4\").getComponent(cc.Button);\r\n        this.skill1Button.node.on('click', this.skill1, this);\r\n        this.skill2Button.node.on('click', this.skill2, this);\r\n        this.skill3Button.node.on('click', this.skill3, this);\r\n        this.skill4Button.node.on('click', this.skill4, this);\r\n        this.myLVlabel.string = 'Lv. ' + GlobalData.level.toString();\r\n        this.myLife = GlobalData.myPokewomanHP[GlobalData.myelf];\r\n        \r\n    }\r\n\r\n    start () {\r\n        this.last_myself = GlobalData.myelf;\r\n        this.enemynum = cc.director.getScene()[\"enemyNum\"];\r\n\r\n        if(this.enemynum == 4){\r\n            if(cc.find(\"Canvas/enemy\").getComponent(cc.Sprite).spriteFrame == null){\r\n                cc.find(\"Canvas/enemy\").getComponent(cc.Sprite).spriteFrame = this.enemy1;\r\n            }\r\n            this.enemyLife = GlobalData.enemyHPbyID[this.enemynum-1];\r\n            this.enemyAttack = GlobalData.enemyAttackById[this.enemynum-1];\r\n            this.enemyLV = GlobalData.enemyLevelById[this.enemynum-1];\r\n            \r\n        }else if(this.enemynum == 5){\r\n            if(cc.find(\"Canvas/enemy\").getComponent(cc.Sprite).spriteFrame == null){\r\n                cc.find(\"Canvas/enemy\").getComponent(cc.Sprite).spriteFrame = this.enemy2;\r\n                cc.find(\"Canvas/enemy\").color = cc.Color.RED;\r\n            }\r\n            this.enemyLife = GlobalData.enemyHPbyID[this.enemynum-1];\r\n            this.enemyAttack = GlobalData.enemyAttackById[this.enemynum-1];\r\n            this.enemyLV = GlobalData.enemyLevelById[this.enemynum-1];\r\n        }else if(this.enemynum == 6){\r\n            if(cc.find(\"Canvas/enemy\").getComponent(cc.Sprite).spriteFrame == null){\r\n                cc.find(\"Canvas/enemy\").getComponent(cc.Sprite).spriteFrame = this.enemy3;\r\n               // cc.find(\"Canvas/enemy\").getComponent(cc.Sprite).spriteFrame.setFlipX(true);\r\n                cc.find(\"Canvas/enemy\").scaleX *= -1;\r\n                cc.find(\"Canvas/enemy\").width = 300;\r\n                cc.find(\"Canvas/enemy\").y = 0;    \r\n            }\r\n            this.enemyLife = GlobalData.enemyHPbyID[this.enemynum-1];\r\n            this.enemyAttack = GlobalData.enemyAttackById[this.enemynum-1];\r\n            this.enemyLV = GlobalData.enemyLevelById[this.enemynum-1];\r\n        }\r\n        else if(this.enemynum == 7){\r\n            if(cc.find(\"Canvas/enemy\").getComponent(cc.Sprite).spriteFrame == null){\r\n                cc.find(\"Canvas/enemy\").getComponent(cc.Sprite).spriteFrame = this.enemy7;\r\n                cc.find(\"Canvas/enemy\").color = cc.Color.RED;\r\n            }\r\n            this.enemyLife = GlobalData.enemyHPbyID[this.enemynum-1];\r\n            this.enemyAttack = GlobalData.enemyAttackById[this.enemynum-1];\r\n            this.enemyLV = GlobalData.enemyLevelById[this.enemynum-1];\r\n        }else if(this.enemynum == 8){\r\n            if(cc.find(\"Canvas/enemy\").getComponent(cc.Sprite).spriteFrame == null){\r\n                cc.find(\"Canvas/enemy\").getComponent(cc.Sprite).spriteFrame = this.enemy8;\r\n                //cc.find(\"Canvas/enemy\").color = cc.Color.RED;\r\n            }\r\n            cc.find(\"Canvas/enemy\").scaleX *= -1;\r\n            cc.find(\"Canvas/enemy\").width += 50;\r\n            this.enemyLife = GlobalData.enemyHPbyID[this.enemynum-1];\r\n            this.enemyAttack = GlobalData.enemyAttackById[this.enemynum-1];\r\n            this.enemyLV = GlobalData.enemyLevelById[this.enemynum-1];\r\n        }\r\n        cc.audioEngine.playMusic(this.battleBgm, true);\r\n        \r\n\r\n        let enemyParticleEffect2 = cc.find(\"Canvas/enemy/onLoad\").getComponent(cc.ParticleSystem);\r\n        if(this.enemynum == 4){\r\n            console.log(\"this.enemynum == 4\");\r\n            enemyParticleEffect2.playOnLoad = true;\r\n            enemyParticleEffect2.resetSystem();\r\n        }\r\n    }\r\n\r\n    update(dt){\r\n        \r\n        \r\n        if(this.enemynum == 8){\r\n            if(!cc.find(\"Canvas/enemy\").getComponent(cc.Animation).getAnimationState(\"moyan_default\").isPlaying\r\n            && this.moyanAnimation){\r\n\r\n                cc.find(\"Canvas/enemy\").getComponent(cc.Animation).play(\"moyan_default\");\r\n            }\r\n        }\r\n        console.log(GlobalData.myPokewomanHP[GlobalData.myelf],GlobalData.fullHP[GlobalData.myelf],\r\n            this.enemyLife,GlobalData.enemyHPbyID[this.enemynum-1],this.enemyLV);\r\n        if(this.renew){\r\n            this.renew = false;\r\n            if(GlobalData.myelf == 0){\r\n                cc.find(\"Canvas/skills/skill1/Background/Label\").getComponent(cc.Label).string = \"魔法攻擊\";\r\n                //cc.find(\"Canvas/skills/skill4/Background/Label\").getComponent(cc.Label).string = \"懶蛋攻擊\";\r\n            }\r\n            else{\r\n                cc.find(\"Canvas/skills/skill1/Background/Label\").getComponent(cc.Label).string = \"衝撞\";\r\n            }\r\n        }\r\n        if(GlobalData.myelf != this.last_myself){\r\n            //console.log(\"GlobalData.myelf:\", GlobalData.myelf);\r\n            this.last_myself = GlobalData.myelf;\r\n            this.renew = true;\r\n        }\r\n        for(var i=0 ; i < GlobalData.pokewoman.length ; i++){\r\n            if(GlobalData.myPokewomanHP[i] > 0){\r\n                GlobalData.lose = false;\r\n                break;\r\n            }\r\n            GlobalData.lose = true;    \r\n        }\r\n        this.node.getComponent(cc.Sprite).spriteFrame = this.sprite[this.bag[GlobalData.myelf]];\r\n        this.updateUI(dt);\r\n        if(this.enemyLife <= 0 && !this.isWin){\r\n            if(this.enemynum == 4){\r\n                GlobalData.isEnenmyMagic = true;\r\n                console.log(\"GlobalData.isEnenmyMagic:\", GlobalData.isEnenmyMagic);\r\n            }else if(this.enemynum == 5){\r\n                GlobalData.isEnenmyRed = true;\r\n                console.log(\"GlobalData.isEnenmyRed:\", GlobalData.isEnenmyRed);\r\n            }else if(this.enemynum == 6){\r\n                GlobalData.isBoss1 = true;\r\n                console.log(\"GlobalData.isBoss1:\", GlobalData.isBoss1);\r\n            }else if(this.enemynum == 7){\r\n                GlobalData.isEnenmyFish = true;\r\n                console.log(\"GlobalData.isEnenmyFish:\", GlobalData.isEnenmyFish);\r\n            }else if(this.enemynum == 8){\r\n                GlobalData.isEnenmyBoss2 = true;\r\n                cc.director.loadScene(\"map_inif\");\r\n                console.log(\"GlobalData.isEnenmyBoss2:\", GlobalData.isEnenmyBoss2);\r\n            }\r\n            if(GlobalData.pokewoman.length < 6){\r\n                GlobalData.pokewoman.push(this.enemynum);\r\n\r\n                GlobalData.myPokewomanHP[GlobalData.pokewoman.length-1] = (GlobalData.pokewomanBaseHP[GlobalData.pokewoman[GlobalData.pokewoman.length-1]] + \r\n                GlobalData.level*GlobalData.pokewomanHPscale[GlobalData.pokewoman[GlobalData.pokewoman.length-1]])\r\n                GlobalData.fullHP[GlobalData.pokewoman.length-1] = GlobalData.myPokewomanHP[GlobalData.pokewoman.length-1];\r\n                this.enemyLife = 0;\r\n                this.isWin = true;\r\n                this.enemyHP.progress = 0;\r\n                cc.audioEngine.pauseMusic();\r\n                cc.audioEngine.playEffect(this.winSound, false);\r\n                GlobalData.exp += 100;\r\n                this.scheduleOnce(function() {\r\n                    cc.director.loadScene(GlobalData.map, ()=>{\r\n                        let enemyNumString = cc.js.formatStr(\"%d\", this.enemynum);\r\n                        GlobalData.nodeToDestroy.push(enemyNumString);\r\n                    }\r\n                    );\r\n                }, 4);\r\n            }else{\r\n                GlobalData.toCapture = true;  \r\n                GlobalData.toCaptureID = this.enemynum;\r\n                this.enemyLife = 0;\r\n                this.isWin = true;\r\n                this.enemyHP.progress = 0;\r\n                cc.audioEngine.pauseMusic();\r\n                cc.audioEngine.playEffect(this.winSound, false);\r\n                GlobalData.exp += 100;\r\n                this.scheduleOnce(function() {\r\n                    cc.director.loadScene(\"bag\", ()=>{\r\n                        let enemyNumString = cc.js.formatStr(\"%d\", this.enemynum);\r\n                        GlobalData.nodeToDestroy.push(enemyNumString);\r\n                    });\r\n                }, 4);\r\n            }\r\n            GlobalData.winNum+=1;\r\n        }\r\n\r\n        if(GlobalData.lose && !this.isLose){\r\n            GlobalData.myPokewomanHP[GlobalData.myelf] = 0;\r\n            this.isLose = true;\r\n            this.myTurn = false;\r\n            this.enemyTurn = false;\r\n            this.myHP.progress = 0;\r\n            cc.audioEngine.pauseMusic();\r\n            cc.audioEngine.playEffect(this.loseSound, false);\r\n            this.scheduleOnce(function() {\r\n                cc.director.loadScene(GlobalData.map);\r\n            }, 4);\r\n        }\r\n\r\n        if(this.enemyTurn && !this.myTurn && this.enemyLife > 0){\r\n            this.enemyTurn = false;\r\n            this.myTurn = true;\r\n            this.enemyTurnAction();\r\n        }\r\n\r\n        if(!this.enemyTurn && this.myTurn && this.myLife > 0){\r\n\r\n            //cc.find(\"Canvas/skill1\").getComponent(cc.Button).interactable = this.myTurn;\r\n        }\r\n        cc.find(\"Canvas/skills/skill1\").getComponent(cc.Button).interactable = this.myTurn;\r\n        cc.find(\"Canvas/skills/skill2\").getComponent(cc.Button).interactable = this.myTurn;\r\n        cc.find(\"Canvas/skills/skill3\").getComponent(cc.Button).interactable = this.myTurn;\r\n        cc.find(\"Canvas/skills/skill4\").getComponent(cc.Button).interactable = this.myTurn;\r\n    //}\r\n        cc.audioEngine.setMusicVolume(GlobalData.volume);\r\n        cc.audioEngine.setEffectsVolume(GlobalData.volume);\r\n    }\r\n\r\n    updateUI(dt){\r\n        //console.log(GlobalData.myelf);\r\n        //console.log(GlobalData.myPokewomanHP);\r\n        //console.log(GlobalData.fullHP);\r\n       \r\n        this.myHP.progress = GlobalData.myPokewomanHP[GlobalData.myelf] / GlobalData.fullHP[GlobalData.myelf];\r\n        this.enemyHP.progress = this.enemyLife / GlobalData.enemyHPbyID[this.enemynum-1];\r\n        const myLifeLabel = cc.find(\"Canvas/myLife\").getComponent(cc.Label);\r\n        const enemyLifeLabel = cc.find(\"Canvas/enemyLife\").getComponent(cc.Label);\r\n        this.enemyLVlabel.string = 'Lv. '+this.enemyLV.toString();\r\n        this.myLVlabel.string = 'Lv. '+ GlobalData.level.toString();\r\n        myLifeLabel.string = ((Array(7).join(\"0\") + GlobalData.myPokewomanHP[GlobalData.myelf].toString()).slice(-3)) + '/' + GlobalData.fullHP[GlobalData.myelf].toString();\r\n        enemyLifeLabel.string = ((Array(7).join(\"0\") + this.enemyLife.toString()).slice(-3)) +'/'+ GlobalData.enemyHPbyID[this.enemynum-1].toString();\r\n    }\r\n\r\n    skill1(){\r\n        let enemyLifeDeduct = cc.callFunc(function(target) {\r\n            if(GlobalData.myelf == 0) this.enemyLife -= 80;\r\n            else this.enemyLife -= 20;\r\n        }, this);\r\n\r\n        let turnSwitch1 = cc.callFunc(function(target) {\r\n            this.myTurn = false;\r\n        }, this);\r\n\r\n        let turnSwitch2 = cc.callFunc(function(target) {\r\n            this.enemyTurn = true;\r\n        }, this);\r\n          \r\n        this.node.runAction(cc.sequence(turnSwitch1, cc.moveBy(1, cc.v2(520, 0)), cc.moveBy(1, cc.v2(-520, 0)),enemyLifeDeduct, turnSwitch2))\r\n    }\r\n\r\n    skill2(){\r\n        //cc.log(\"skill2\");\r\n        let enemyLifeDeduct = cc.callFunc(function(target) {\r\n            this.enemyLife -= 20;\r\n        }, this);\r\n\r\n        let turnSwitch1 = cc.callFunc(function(target) {\r\n            this.myTurn = false;\r\n        }, this);\r\n\r\n        let turnSwitch2 = cc.callFunc(function(target) {\r\n            this.enemyTurn = true;\r\n        }, this);\r\n\r\n        this.node.runAction(cc.sequence(turnSwitch1, cc.moveBy(1, cc.v2(520, 0)), cc.moveBy(1, cc.v2(-520, 0)),enemyLifeDeduct, turnSwitch2))\r\n    }\r\n\r\n    skill3(){\r\n        //cc.log(\"skill3\");\r\n        let enemyLifeDeduct = cc.callFunc(function(target) {\r\n            this.enemyLife -= 20;\r\n        }, this);\r\n\r\n        let turnSwitch1 = cc.callFunc(function(target) {\r\n            this.myTurn = false;\r\n        }, this);\r\n\r\n        let turnSwitch2 = cc.callFunc(function(target) {\r\n            this.enemyTurn = true;\r\n        }, this);\r\n\r\n        this.node.runAction(cc.sequence(turnSwitch1, cc.moveBy(1, cc.v2(520, 0)), cc.moveBy(1, cc.v2(-520, 0)),enemyLifeDeduct, turnSwitch2))\r\n    }\r\n\r\n    skill4(){\r\n        //cc.log(\"skill4\");\r\n        let enemyLifeDeduct = cc.callFunc(function(target) {\r\n            this.enemyLife -= 100;\r\n        }, this);\r\n\r\n        let turnSwitch1 = cc.callFunc(function(target) {\r\n            this.myTurn = false;\r\n        }, this);\r\n\r\n        let turnSwitch2 = cc.callFunc(function(target) {\r\n            this.enemyTurn = true;\r\n        }, this);\r\n\r\n        this.node.runAction(cc.sequence(turnSwitch1, cc.moveBy(1, cc.v2(520, 0)), cc.moveBy(1, cc.v2(-520, 0)),enemyLifeDeduct, turnSwitch2))\r\n    }\r\n    enemyTurnAction(){\r\n        let enemyAnimation = cc.find(\"Canvas/enemy\").getComponent(cc.Animation);\r\n        let enemyParticleEffect = cc.find(\"Canvas/enemy/magic\").getComponent(cc.ParticleSystem);\r\n        let enemyParticleEffect3 = cc.find(\"Canvas/enemy/punch\").getComponent(cc.ParticleSystem);\r\n        let enemyParticleEffect4 = cc.find(\"Canvas/enemy/boom\").getComponent(cc.ParticleSystem);\r\n        let enemyParticleEffect5 = cc.find(\"Canvas/enemy/fire\").getComponent(cc.ParticleSystem);\r\n        \r\n        let shakeCamera = cc.callFunc(function(target) {\r\n            const mainCamera = cc.Camera.main;\r\n            this.originalPosition = mainCamera.node.position.clone();\r\n            const shakeSequence = cc.sequence(\r\n                cc.moveTo(0.05, cc.v2(this.originalPosition.x , this.originalPosition.y + 8)),\r\n                cc.moveTo(0.05, cc.v2(this.originalPosition.x, this.originalPosition.y - 8)),\r\n                cc.moveTo(0.05, this.originalPosition)\r\n            );\r\n    \r\n            // Run the shake sequence on the camera\r\n            cc.find(\"Canvas/Main Camera\").getComponent(cc.Camera).node.runAction(shakeSequence);\r\n            //this.camera.node.runAction(shakeSequence);\r\n        });\r\n\r\n        let shakeCamera2 = cc.callFunc(function(target) {\r\n            const mainCamera = cc.Camera.main;\r\n            this.originalPosition = mainCamera.node.position.clone();\r\n           //let shakeSequence;\r\n            \r\n                const shakeSequence = cc.sequence(\r\n                    cc.moveTo(0.05, cc.v2(this.originalPosition.x+15 , this.originalPosition.y)),\r\n                    cc.moveTo(0.05, cc.v2(this.originalPosition.x-15, this.originalPosition.y)),\r\n                    cc.moveTo(0.05, this.originalPosition)\r\n                );\r\n            cc.find(\"Canvas/Main Camera\").getComponent(cc.Camera).node.runAction(shakeSequence);\r\n        });\r\n\r\n        if(this.enemynum == 4){\r\n            enemyAnimation.play(\"dong_move\");\r\n        }else if(this.enemynum == 5){\r\n            enemyAnimation.play(\"red_dong_move\");\r\n        }else if(this.enemynum == 6){\r\n            enemyAnimation.play(\"boom\");\r\n        }\r\n        else if(this.enemynum == 7){\r\n            enemyAnimation.play(\"fish3\");\r\n        }else if(this.enemynum == 8){\r\n            console.log(\"moyan_b\");\r\n            enemyAnimation.stop(\"moyan_default\");\r\n            this.moyanAnimation = false;\r\n            enemyAnimation.play(\"moyan_b\");\r\n        }\r\n        let myLifeDeduct = cc.callFunc(function(target) {\r\n            //console.log(\"enemyNum in mylife deduct:\", this.enemynum);\r\n            const enhance = (this.enemyLV * 0.75 + this.enemyAttack) / this.enemyAttack\r\n            if(this.enemynum == 4) GlobalData.myPokewomanHP[GlobalData.myelf] -= (10 * enhance);\r\n            else if(this.enemynum == 5) GlobalData.myPokewomanHP[GlobalData.myelf] -= (20 * enhance);\r\n            else if(this.enemynum == 6) GlobalData.myPokewomanHP[GlobalData.myelf] -= (45 * enhance);\r\n            else if(this.enemynum == 7) GlobalData.myPokewomanHP[GlobalData.myelf] -= (10 * enhance);\r\n            else if(this.enemynum == 8) GlobalData.myPokewomanHP[GlobalData.myelf] -= (50 * enhance);\r\n            GlobalData.myPokewomanHP[GlobalData.myelf] = Math.round(GlobalData.myPokewomanHP[GlobalData.myelf]);\r\n        }, this);\r\n\r\n        let turnSwitch1 = cc.callFunc(function(target) {\r\n            this.myTurn = false;\r\n            this.enemyTurn = false;\r\n        }, this);\r\n\r\n        let turnSwitch2 = cc.callFunc(function(target) {\r\n            this.myTurn = true;\r\n            this.enemyTurn = false;\r\n        }, this);\r\n\r\n        let particleAction = cc.callFunc(function(target) {\r\n            if(this.enemynum == 4 )enemyParticleEffect.resetSystem();\r\n            else if(this.enemynum == 5) enemyParticleEffect3.resetSystem();\r\n            else if(this.enemynum == 6){ \r\n                enemyParticleEffect4.resetSystem();\r\n                cc.find(\"Canvas/enemy/boom\").runAction(cc.moveBy(0.2, cc.v2(-525, 0)));\r\n                cc.find(\"Canvas/enemy/boom\").x = 17.366;\r\n            }\r\n            else if(this.enemynum == 8){\r\n                console.log(\"fire\");    \r\n                enemyParticleEffect5.resetSystem();\r\n                cc.find(\"Canvas/enemy/fire\").runAction(cc.moveBy(1, cc.v2(-760, 0)));\r\n                // cc.find(\"Canvas/enemy/fire\").x = 17.366;\r\n            }\r\n        }, this);\r\n\r\n        let sound = cc.callFunc(function(target) {\r\n            if(this.enemynum == 4 ){}//enemyParticleEffect.resetSystem();\r\n            else if(this.enemynum == 5) {\r\n                cc.audioEngine.playEffect(this.red_dong_punch, false);\r\n                console.log(\"sound\");\r\n            }else if(this.enemynum == 6) {\r\n                cc.audioEngine.playEffect(this.red_dong_punch, false);\r\n                console.log(\"sound\");\r\n            }\r\n            }, this); \r\n            let moyanFlagAction = cc.callFunc(function(target) {\r\n                this.moyanAnimation = true;\r\n            }, this);\r\n        let moveAction = cc.callFunc(function(target) {\r\n            if(this.enemynum == 4)\r\n                enemy.runAction(cc.sequence(cc.moveBy(0.6, cc.v2(0, 50)), cc.moveBy(0.2, cc.v2(0, -50)), particleAction, shakeCamera,myLifeDeduct,turnSwitch2));\r\n            else if(this.enemynum == 5)\r\n                enemy.runAction(cc.sequence(cc.moveBy(0.8, cc.v2(-460, 0)), sound, shakeCamera2, particleAction, cc.moveBy(1.5, cc.v2(460, 0)),myLifeDeduct,turnSwitch2));\r\n            else if(this.enemynum == 6)\r\n            enemy.runAction(cc.sequence(cc.moveBy(0.6, cc.v2(0, 20)), sound, shakeCamera2, particleAction, cc.moveBy(0.1, cc.v2(0, -20)),myLifeDeduct,turnSwitch2));\r\n            else if(this.enemynum == 7){\r\n                enemy.runAction(cc.sequence(cc.moveBy(1, cc.v2(-480, 0)), cc.moveBy(1, cc.v2(480, 0)),myLifeDeduct,turnSwitch2));\r\n            }\r\n            else if(this.enemynum == 8){\r\n                enemy.runAction(cc.sequence(cc.moveBy(1.3, cc.v2(0, 0)),particleAction, shakeCamera, myLifeDeduct, turnSwitch2, moyanFlagAction));\r\n            }\r\n        }, this);\r\n\r\n       \r\n\r\n        \r\n\r\n\r\n        let enemy = cc.find(\"Canvas/enemy\");\r\n        enemy.runAction(cc.sequence(turnSwitch1, moveAction))\r\n    }\r\n    \r\n\r\n}"]}