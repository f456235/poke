{"version":3,"sources":["assets\\script\\yuan.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAK5C;IAAgC,sBAAY;IAA5C;QAAA,qEAiDC;QA9CG,UAAI,GAAiB,IAAI,CAAC;QAE1B,eAAS,GAAG,IAAI,CAAC,CAAC,OAAO;QACzB,aAAO,GAAG,CAAC,CAAC,CAAC,CAAC,mCAAmC;;IA2CrD,CAAC;IAzCG,mBAAM,GAAN;QACI,SAAS;QACT,EAAE,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;QAC/C,IAAI,OAAO,GAAG,EAAE,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC;QAChD,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;QACjD,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAC3E,kFAAkF;IACtF,CAAC;IAED,sBAAS,GAAT;QACI,WAAW;QACX,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAC5E,2EAA2E;IAC/E,CAAC;IAED,sBAAS,GAAT,UAAU,KAA6B;QACnC,QAAO,KAAK,CAAC,OAAO,EAAE;YAClB,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK;gBACnB,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;gBAC9B,EAAE,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;gBAC3B,MAAM;SAEb;IACL,CAAC;IAED,kBAAK,GAAL;QACI,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QAC3D,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC,kCAAkC;QAC/E,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,CAAC,4CAA4C;IAC1F,CAAC;IAED,mBAAM,GAAN,UAAO,EAAU;QACb,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE;YACvE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC/B;IACL,CAAC;IAED,wBAAW,GAAX;QACI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,wBAAwB;IAC3D,CAAC;IA7CD;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,SAAS,EAAE,CAAC;oCACP;IAHT,EAAE;QADtB,OAAO;OACa,EAAE,CAiDtB;IAAD,SAAC;CAjDD,AAiDC,CAjD+B,EAAE,CAAC,SAAS,GAiD3C;kBAjDoB,EAAE","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\r\nimport GameManager from \"./gamemanager\";\r\nimport GlobalData from \"./GlobalData\";\r\n\r\n@ccclass\r\nexport default class No extends cc.Component {\r\n\r\n    @property({ type: cc.AudioClip })\r\n    yuan: cc.AudioClip = null;\r\n\r\n    animation = null; // 动画组件\r\n    audioId = -1; // Audio ID for the yuan audio clip\r\n\r\n    onLoad() {\r\n        // 注册键盘事件\r\n        cc.director.getPhysicsManager().enabled = true;\r\n        var manager = cc.director.getCollisionManager();\r\n        manager.enabled = true;\r\n        this.animation = this.getComponent(cc.Animation);\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        // cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);        \r\n    }\r\n\r\n    onDestroy() {\r\n        // 移除键盘事件监听\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        // cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n    }\r\n\r\n    onKeyDown(event: cc.Event.EventKeyboard) {\r\n        switch(event.keyCode) {\r\n            case cc.macro.KEY.space:\r\n                cc.director.loadScene(\"map2\");\r\n                cc.audioEngine.stopMusic();\r\n                break;\r\n            \r\n        }\r\n    }\r\n\r\n    start() {\r\n        this.audioId = cc.audioEngine.playEffect(this.yuan, false);\r\n        cc.audioEngine.setVolume(this.audioId, 1.0); // Set the volume to 1.0 (maximum)\r\n        this.scheduleOnce(this.changeScene, 4.3); // Schedule the scene change after 2 seconds\r\n    }\r\n\r\n    update(dt: number) {\r\n        if (this.animation && !this.animation.getAnimationState(\"yuan\").isPlaying) {\r\n            this.animation.play(\"yuan\");\r\n        }\r\n    }\r\n\r\n    changeScene() {\r\n        cc.director.loadScene(\"map2\"); // Load the \"map2\" scene\r\n    }\r\n}"]}