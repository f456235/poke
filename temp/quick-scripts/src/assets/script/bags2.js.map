{"version":3,"sources":["assets\\script\\bags2.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\r\nimport GlobalData from \"./GlobalData\";\r\ndeclare const firebase: any;\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    label: cc.Label = null;\r\n\r\n    @property\r\n    text: string = 'hello';\r\n\r\n    @property([cc.SpriteFrame])\r\n    sprite: cc.SpriteFrame[] = [];\r\n\r\n    @property\r\n    index: number = 0;\r\n\r\n    /* get a return array from other script */\r\n    // bag: number[] = [3, 4, 1, 2, 5, 0];\r\n    bag: number[] =GlobalData.pokewoman;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    @property\r\n    num: number = 0;\r\n\r\n    @property(cc.Label)\r\n    nm: cc.Label = null;\r\n    @property(cc.Label)\r\n    atk_num: cc.Label = null;\r\n    @property(cc.Label)\r\n    hp_num: cc.Label = null;\r\n    @property(cc.Node)\r\n    runAway: cc.Node = null;\r\n    @property\r\n    nowchoose: number = 0;\r\n\r\n    onLoad () {\r\n        cc.director.getPhysicsManager().enabled = true;\r\n        this.runAway.active = false;\r\n        var uid = GlobalData.uid;  \r\n        firebase.database().ref(uid + 'pokewoman').on('value', snapshot => {\r\n            this.num = snapshot.val();\r\n        });\r\n    }\r\n\r\n    start () {\r\n        for (let i = 0; i < 6; i++) {\r\n            this.node.getChildByName('Sprite' + i).getComponent(cc.Sprite).spriteFrame = this.sprite[this.bag[i]];\r\n            this.node.getChildByName('Sprite' + i).width = 80;\r\n            this.node.getChildByName('Sprite' + i).height = 90;\r\n            console.log(\"i:\" ,i);\r\n            console.log(this.node.getChildByName('Sprite' + i).width);\r\n            console.log(this.node.getChildByName('Sprite' + i).height);\r\n            if(this.bag[i]==null){\r\n                this.node.getChildByName('Sprite' + i).active = false;\r\n            }\r\n\r\n        }\r\n        cc.find('Canvas/bags2/Sprite0').on('click', () => {\r\n            this.nowchoose=0;\r\n        });\r\n        cc.find('Canvas/bags2/Sprite1').on('click', () => {\r\n            this.nowchoose=1;\r\n        });\r\n        cc.find('Canvas/bags2/Sprite2').on('click', () => {\r\n            this.nowchoose=2;\r\n        });\r\n        cc.find('Canvas/bags2/Sprite3').on('click', () => {\r\n            this.nowchoose=3;\r\n        });\r\n        cc.find('Canvas/bags2/Sprite4').on('click', () => {\r\n            this.nowchoose=4;\r\n        });\r\n        cc.find('Canvas/bags2/Sprite5').on('click', () => {\r\n            this.nowchoose=5;\r\n        });\r\n        cc.find('Canvas/bags2/confirm').on('click', () => {\r\n            GlobalData.myelf = this.nowchoose;\r\n            cc.find('Canvas/bags2').active = false;\r\n            cc.find('Canvas/skills').active = true;\r\n            this.runAway.active = true;\r\n        });\r\n        cc.find('Canvas/bags2/cancel').on('click', () => {\r\n            cc.find('Canvas/bags2').active = false;\r\n            cc.find('Canvas/skills').active = true;\r\n            this.runAway.active = true;\r\n        });\r\n    }\r\n    update(dt) {\r\n        if (this.nowchoose <= 5) {\r\n            const spriteNode = this.node.getChildByName('Sprite' + this.nowchoose);\r\n            const spriteComponent = spriteNode.getComponent(cc.Sprite);\r\n            \r\n            // Calculate a color variation using a time-based value\r\n            const colorOffset = Math.sin(Date.now() * 0.01) * 0.5 + 0.5;\r\n            \r\n            // Create a new color with the varying offset\r\n            const newColor = new cc.Color(colorOffset * 255, colorOffset *255, colorOffset *255);\r\n            \r\n            // Assign the new color to the sprite's color property\r\n            spriteComponent.node.color = newColor;\r\n        }\r\n    }\r\n}"]}