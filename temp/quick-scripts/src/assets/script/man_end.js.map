{"version":3,"sources":["assets\\script\\man_end.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAC5C,6CAAwC;AACxC,2CAAsC;AAGtC;IAAiC,uBAAY;IAA7C;QAAA,qEA0DC;QAxDG,gBAAU,GAAgB,IAAI,CAAC;QAG/B,WAAK,GAAa,IAAI,CAAC;QAGvB,UAAI,GAAW,OAAO,CAAC;QAGvB,SAAG,GAAiB,IAAI,CAAC;QAIzB,eAAS,GAAW,GAAG,CAAC,CAAC,gBAAgB;QAEzC,eAAS,GAAG,IAAI,CAAC,CAAC,OAAO;QAEjB,cAAQ,GAAY,KAAK,CAAC;QAE1B,gBAAU,GAAG,CAAC,CAAC;QAChB,cAAQ,GAAG,CAAC,CAAC;;IAoCxB,CAAC;IAlCG,mBAAK,GAAL;QACI,IAAI,KAAK,GAAG,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACnC,IAAI,KAAK,CAAC,IAAI,IAAI,UAAU,EAAE;YAC1B,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;SAC5C;QACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;QACjD,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,oBAAU,CAAC,UAAU,EAAE,oBAAU,CAAC,UAAU,CAAC,CAAC;IACxE,CAAC;IAED,uBAAS,GAAT,cAAa,CAAC;IAEd,2BAAa,GAAb,UAAc,aAAqB;QAC/B,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC,SAAS,EAAE;YAC7E,OAAO;SACV;QACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IACvC,CAAC;IAED,2BAAa,GAAb,UAAc,aAAqB;QAC/B,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC,SAAS,EAAE;YAC7E,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SACtC;IACL,CAAC;IAED,oBAAM,GAAN,UAAO,EAAU;QACT,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QAEnC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC,SAAS,EAAE;YAC1D,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SACpC;QAEL,EAAE,CAAC,WAAW,CAAC,cAAc,CAAC,oBAAU,CAAC,MAAM,CAAC,CAAC;QACjD,EAAE,CAAC,WAAW,CAAC,gBAAgB,CAAC,oBAAU,CAAC,MAAM,CAAC,CAAC;IACvD,CAAC;IAvDD;QADC,QAAQ,CAAC,qBAAW,CAAC;2CACS;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;sCACI;IAGvB;QADC,QAAQ;qCACc;IAGvB;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,SAAS,EAAE,CAAC;oCACR;IAIzB;QADC,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC;0CACG;IAfP,GAAG;QADvB,OAAO;OACa,GAAG,CA0DvB;IAAD,UAAC;CA1DD,AA0DC,CA1DgC,EAAE,CAAC,SAAS,GA0D5C;kBA1DoB,GAAG","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\r\nimport GameManager from \"./gamemanager\";\r\nimport GlobalData from \"./GlobalData\";\r\n\r\n@ccclass\r\nexport default class Man extends cc.Component {\r\n    @property(GameManager)\r\n    Gamemanger: GameManager = null;\r\n\r\n    @property(cc.Label)\r\n    label: cc.Label = null;\r\n\r\n    @property\r\n    text: string = 'hello';\r\n\r\n    @property({ type: cc.AudioClip })\r\n    bgm: cc.AudioClip = null;\r\n\r\n\r\n    @property(cc.Integer)\r\n    moveSpeed: number = 100; // 移动速度，可以根据需要调整\r\n\r\n    animation = null; // 动画组件\r\n\r\n    private isBattle: boolean = false;\r\n\r\n    private destroynum = 0;\r\n    public enemyNum = 0;\r\n\r\n    start() {\r\n        let scene = cc.director.getScene();\r\n        if (scene.name == \"map_inif\") {\r\n            cc.audioEngine.playMusic(this.bgm, true);\r\n        } \r\n        this.animation = this.getComponent(cc.Animation);\r\n        this.node.setPosition(GlobalData.PlayerPosX, GlobalData.PlayerPosY);\r\n    }\r\n\r\n    onDestroy() {}\r\n\r\n    playAnimation(animationName: string) {\r\n        if (this.animation && this.animation.getAnimationState(animationName).isPlaying) {\r\n            return;\r\n        }\r\n        this.animation.play(animationName);\r\n    }\r\n\r\n    stopAnimation(animationName: string) {\r\n        if (this.animation && this.animation.getAnimationState(animationName).isPlaying) {\r\n            this.animation.stop(animationName);\r\n        }\r\n    }\r\n\r\n    update(dt: number) {\r\n            this.node.x += this.moveSpeed * dt;\r\n\r\n            if (!this.animation.getAnimationState(\"man_right\").isPlaying) {\r\n                this.animation.play(\"man_right\");\r\n            }\r\n\r\n        cc.audioEngine.setMusicVolume(GlobalData.volume);\r\n        cc.audioEngine.setEffectsVolume(GlobalData.volume);\r\n    }\r\n}"]}